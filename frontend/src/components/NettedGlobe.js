import React, { useRef, useEffect } from 'react';\nimport Globe from 'react-globe.gl';\n\nconst NettedGlobe = ({ threatLocations }) => {\n  const globeEl = useRef();\n\n  useEffect(() => {\n    if (globeEl.current) {\n      // Auto-rotation\n      globeEl.current.controls().autoRotate = true;\n      globeEl.current.controls().autoRotateSpeed = 0.8;\n      globeEl.current.controls().enableZoom = false;\n      \n      // Create grid lines for latitude\n      const latLines = [];\n      for (let lat = -80; lat <= 80; lat += 20) {\n        const points = [];\n        for (let lng = -180; lng <= 180; lng += 5) {\n          points.push({ lat, lng });\n        }\n        latLines.push(points);\n      }\n      \n      // Create grid lines for longitude\n      const lngLines = [];\n      for (let lng = -180; lng <= 180; lng += 20) {\n        const points = [];\n        for (let lat = -90; lat <= 90; lat += 5) {\n          points.push({ lat, lng });\n        }\n        lngLines.push(points);\n      }\n\n      // Apply wireframe styling after mount\n      setTimeout(() => {\n        const scene = globeEl.current.scene();\n        scene.traverse((obj) => {\n          if (obj.type === 'Mesh' && obj.geometry && obj.geometry.type === 'SphereGeometry') {\n            // Create wireframe material\n            obj.material.wireframe = true;\n            obj.material.color.setHex(0x667eea);\n            obj.material.transparent = true;\n            obj.material.opacity = 0.25;\n            obj.material.emissive.setHex(0x667eea);\n            obj.material.emissiveIntensity = 0.2;\n          }\n        });\n      }, 100);\n    }\n  }, []);\n\n  return (\n    <Globe\n      ref={globeEl}\n      globeImageUrl=\"\"\n      showGlobe={true}\n      showAtmosphere={true}\n      backgroundColor=\"rgba(0,0,0,0)\"\n      \n      // Threat markers\n      pointsData={threatLocations}\n      pointAltitude={0.02}\n      pointRadius={d => d.size}\n      pointColor={d => d.color}\n      pointLabel={d => `\n        <div style=\"\n          color: white; \n          background: rgba(10, 10, 15, 0.95); \n          padding: 12px 16px; \n          border-radius: 8px; \n          font-family: 'Manrope', sans-serif;\n          border: 1px solid rgba(102, 126, 234, 0.5);\n          box-shadow: 0 4px 20px rgba(0,0,0,0.5);\n        \">\n          <strong style=\"color: #667eea;\">${d.name}</strong>\n        </div>\n      `}\n      \n      // Atmosphere\n      atmosphereColor=\"#667eea\"\n      atmosphereAltitude={0.3}\n      \n      // Show graticules (lat/long lines)\n      showGraticules={true}\n      graticulesColor=\"#667eea\"\n      graticulesOpacity={0.35}\n      \n      // Dimensions\n      height={600}\n      width={600}\n    />\n  );\n};\n\nexport default NettedGlobe;\n